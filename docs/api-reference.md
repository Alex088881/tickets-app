# Tickets App API Reference

## Overview

This document provides a detailed description of the REST API used in the Tickets App.
The API allows clients to load and search railway stations and to retrieve available routes
between selected stations.

This documentation is written manually based on the OpenAPI (Swagger) specification
and is intended for developers integrating with the API.

---

## Base URL

http://localhost:8080

---

## Authentication

Authentication is not required for client requests.

The external Yandex Rasp API key is configured on the backend side via environment variables
and is not exposed to API consumers.

---

## Typical Usage Flow

A typical interaction with the API follows this order:

1. Initialize the system (optional, first run only)
2. Load the stations database
3. Search stations by name
4. Request available routes between selected stations

---

## System Endpoints

### GET /api/System/status

#### Description
Checks the availability and health status of the API.

#### Use case
Use this endpoint to verify that the backend service is running.

#### Response

**200 OK**  
The service is available.

---

### POST /api/System/initialize

#### Description
Initializes the system and prepares required resources.

#### Use case
This endpoint is typically called once during the initial setup or deployment.

#### Response

**200 OK**  
System initialized successfully.

---

## Stations Endpoints

### POST /api/Stations/load

#### Description
Loads the stations list into the local database.

#### Use case
Must be called before searching for stations or routes.
The data is fetched from the external railway data provider and cached locally.

#### Response

**200 OK**  
Stations data loaded successfully.

---

### GET /api/Stations/search

#### Description
Searches for railway stations by name.

#### Query parameters

| Name | Type | Description |
|-----|------|------------|
| `name` | string | Partial or full station name |

#### Example request

GET /api/Stations/search?name=москва

#### Response

**200 OK**  
Returns a list of stations matching the search query.

---

### GET /api/Stations/default

#### Description
Returns a predefined list of commonly used stations.

#### Use case
Can be used to display popular or suggested stations in the UI.

#### Response

**200 OK**  
Returns a list of default stations.

---

### POST /api/Stations/default

#### Description
Adds a station to the default stations list.

#### Query parameters

| Name | Type | Description |
|-----|------|------------|
| `name` | string | Station name to add |

#### Response

**200 OK**  
Station added to the default list.

---

### GET /api/Stations/frequently

#### Description
Returns the most frequently used stations.

#### Use case
Useful for analytics or UI suggestions based on user behavior.

#### Response

**200 OK**  
Returns a list of frequently used stations.

---

## Routes Endpoint

### POST /api/Route

#### Description
Searches for available railway routes between two stations on a specific date.

#### Use case
This is the main endpoint used to retrieve travel options after stations have been selected.

---

#### Request body

| Field | Type | Required | Description |
|------|-----|----------|------------|
| `fromStation` | string | Yes | Departure station code |
| `toStation` | string | Yes | Arrival station code |
| `date` | string (date-time) | Yes | Travel date |

#### Request example

```json
{
  "fromStation": "s9602490",
  "toStation": "s9600213",
  "date": "2026-01-20T00:00:00"
}
```

#### Response

**200 OK**
Returns a list of available routes between the specified stations.

## Notes and Limitations

- All endpoints return HTTP 200 on successful execution
- Error responses are not explicitly defined and may vary depending on validation or external API behavior
- The API relies on external data sources and may be subject to rate limits

## Related Documentation

- Swagger UI (autogenerated): http://localhost:8080/swagger
- Project overview and setup instructions: [README.md](/README.md)







